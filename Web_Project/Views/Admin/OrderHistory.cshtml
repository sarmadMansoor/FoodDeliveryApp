@model Web_Project.Models.ViewModels.UserOrderHistoryViewModel

@{
    Layout = "~/Views/Shared/_MyLayout.cshtml";
}
<style>
    .card_1 {
        border-radius: 10px;
        text-align: center;
    }

</style>
<div class="container mt-5">
    <div class="text-center mb-4">
        <h2>Order History</h2>
    </div>

    <div class="card_1 mb-4 d-flex justify-content-center align-items-center flex-column text-center">
        <div class="d-flex align-items-center">
            <img src="@Model.PhotoUrl" alt="User Photo" class="rounded-circle me-3" style="width: 80px; height: 80px; object-fit: cover;">
            <div>
                <h4>@Model.FullName</h4>
                <p class="text-muted">@Model.Email</p>
            </div>
        </div>
    </div>


    <h3 class="mb-3">Order History</h3>
    @if (Model.OrderHistory != null && Model.OrderHistory.Count > 0)
    {
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Item Name</th>
                    <th>Unit Price</th>
                    <th>Quantity</th>
                    <th>Total Price</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var order in Model.OrderHistory)
                {
                    <tr>
                        <td>@order.ItemName</td>
                        <td>@order.UnitPrice.ToString("C")</td>
                        <td>@order.Quantity</td>
                        <td>@(order.UnitPrice * order.Quantity)</td>
                        <td>@order.Date.ToString("yyyy-MM-dd")</td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p class="text-muted">No orders found for this user.</p>
    }
</div>
